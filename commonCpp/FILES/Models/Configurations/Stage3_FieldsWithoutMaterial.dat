Module Stage3Coils
{
  Volume None //Note - this will generate a warning in MICEDetectorConstruction; it should be okay.

  //Define all the usual MICE coils
  Module EndCoil2 //Note this file doesn't exist - that's fine, G4MICE will write a warning in debug mode
  {
    Volume None
    Position 0.0 0.0 -5951 mm
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor 135.18 //Scales the field linearly
  //Field
    PropertyString FieldType      Solenoid //Tell G4MICE you want to build a solenoid
    PropertyString FileName       end2.fld //File name - sometimes G4MICE stores a lookup table of fields here, depending on settings
    PropertyDouble CurrentDensity    1.    //Current Density - I set this to 1. and then use ScaleFactor to set the field strength; IMPLICIT (!) default units are A/mm^2
    PropertyDouble Length          110.6   //Length along z
    PropertyDouble Thickness        66     //Radial thickness
    PropertyDouble InnerRadius     258.    //Inner radius
  }
  Module CenterCoil
  {
    Volume None
    Position 0.0 0.0 -5201.05 mm
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor 152.44
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       center.fld
    PropertyDouble CurrentDensity    1.
    PropertyDouble Length         1314.3
    PropertyDouble Thickness        21.3
    PropertyDouble InnerRadius     258.
  }
  Module EndCoil1
  {
    Volume None
    Position 0.0 0.0 -4451 mm
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor 127.37
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       end1.fld
    PropertyDouble CurrentDensity    1.
    PropertyDouble Length          110.6
    PropertyDouble Thickness        59.6
    PropertyDouble InnerRadius     258.
  }
  Module MatchCoil2
  {
    Volume None
    Position 0.0 0.0 -4051.05 mm
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor  92.42
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       match2.fld
    PropertyDouble CurrentDensity      1.
    PropertyDouble Length            199.5
    PropertyDouble Thickness          29.8
    PropertyDouble InnerRadius       258.
  }
  Module MatchCoil1
  {
    Volume None
    Position 0.0 0.0 -3611.0 mm
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor 158.87 
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       match1.fld
    PropertyDouble CurrentDensity      1.
    PropertyDouble Length            201.2
    PropertyDouble Thickness          44.7
    PropertyDouble InnerRadius       258.
  }
  
  Module EndCoil2
  {
    Volume None
    Position 0.0 0.0 -239.8 mm //
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor -135.18
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       end2.fld
    PropertyDouble CurrentDensity    1.
    PropertyDouble Length          110.6
    PropertyDouble Thickness        66
    PropertyDouble InnerRadius     258.
  }
  Module CenterCoil
  {
    Volume None
    Position 0.0 0.0 -989.75 mm //
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor -152.44
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       center.fld
    PropertyDouble CurrentDensity    1.
    PropertyDouble Length         1314.3
    PropertyDouble Thickness        21.3
    PropertyDouble InnerRadius     258.
  }
  Module EndCoil1
  {
    Volume None
    Position 0.0 0.0 -1739.8 mm //
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor -127.37
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       end1.fld
    PropertyDouble CurrentDensity    1.
    PropertyDouble Length          110.6
    PropertyDouble Thickness        59.6
    PropertyDouble InnerRadius     258.
  }

  Module MatchCoil1       // CHECKED AUG 18TH !!!   
  {
    Volume None
    Position 0.0 0.0 -2579.8 mm //
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor  -158.87
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       match1.fld
    PropertyDouble CurrentDensity      1.
    PropertyDouble Length            201.2
    PropertyDouble Thickness          44.7
    PropertyDouble InnerRadius       258.
  }
  Module MatchCoil2
  {
    Volume None
    Position 0.0 0.0 -2139.8 mm 
    Rotation 0.0 0.0 0.0 degree
    ScaleFactor -92.42
  //Field
    PropertyString FieldType      Solenoid
    PropertyString FileName       match2.fld
    PropertyDouble CurrentDensity      1.
    PropertyDouble Length            199.5
    PropertyDouble Thickness          29.8
    PropertyDouble InnerRadius       258.
  }
}

